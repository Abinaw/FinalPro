<div class="w-full h-full  rounded-xl p-[10px] bg-white flex gap-[10px]">
    <div
        class="border-solid pr-[20px] border-r-[2px] border-slate-300 w-[22%] h-full  rounded-l-xl pt-[35px] flex flex-col items-center ">

        <form [formGroup]="invoiceSelection" class="w-full ">
            <mat-form-field class="w-full">
                <mat-label>SALES INVOICE</mat-label>
                <mat-select formControlName="selectedOpt" name="report" class="font-mono">
                    <mat-option class="font-semibold font-mono" *ngFor="let option of reports"
                        [value]="option.value">{{option.viewValue|uppercase}}</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="w-full"
                *ngIf="invoiceSelection.get('selectedOpt')?.value==='invoiceReprint'">
                <mat-label>INVOICE NUMBER</mat-label>
                <input type="text" placeholder="Product" matInput formControlName="invoiceNo"
                    [formControl]="invoiceNoControl" [matAutocomplete]="auto">
                <mat-error class="text-sm" *ngIf="invoiceSelection.get('invoiceNo')?.hasError">This field is required!</mat-error>
                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayCustomerName.bind(this)">
                    <mat-option class="font-semibold font-mono" *ngFor="let anItem of filterOptions | async"
                     (focus)=" getTheCustomerDetails(anItem.confirmInvoiceId, anItem.customerOBJ.email); "
                        [value]="anItem.invoiceNumberRef">
                        <!-- (onSelectionChange)="getSelectedProduct_sList(anItem.stockId)"> -->
                        {{anItem.invoiceNumberRef}} | {{anItem.customerOBJ.custName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="w-full" *ngIf="invoiceSelection.get('selectedOpt')?.value==='salesReport'">
                <mat-label>Enter a date range MM/DD/YYYY</mat-label>
                <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                    <input matStartDate formControlName="start" placeholder="Start date">
                    <input matEndDate formControlName="end" placeholder="End date">
                </mat-date-range-input>
                <!-- <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint> -->
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
                <mat-error class="text-sm" *ngIf="range.get('end')?.hasError">End Date is required!</mat-error>
                <mat-error class="text-sm" *ngIf="range.get('start')?.hasError">Start Date field is required!</mat-error>
               
               
            </mat-form-field>

            <!-- <p class="m-[5px]">Selected range: {{range.value | json}}</p> -->
        </form>
        <section class="w-[100%] flex flex-col gap-[5px]">
            <div class="w-full flex flex-col justify-center items-center">
                <button mat-raised-button class="w-[95%]" color="primary" (click)="generateReport()">Generate
                    Report</button>
            </div>
            <div class="w-full flex flex-col justify-center items-center" *ngIf="isReportGenerated">
                <button [disabled]="!isReportAvailable" mat-raised-button class="w-[95%]" color="warn" (click)="printReport()">Print Report</button>
            </div>
            <div class="w-full flex flex-col justify-center items-center" *ngIf="invoiceSelection.get('selectedOpt')?.value==='invoiceReprint'">
                <button mat-stroked-button
                        class="relative w-[95%] h-[48px] bg-blue-500 text-white rounded flex items-center justify-center"
                        (click)="openMailForm()"
                        [disabled]="!isReportAvailable">
                    <span *ngIf="!isReportAvailable">Generate report to open mail</span>
                    <span *ngIf="isReportAvailable">Open Email Form</span>
                </button>
            </div>
        </section>
    </div>

    <div class="border-solid  w-[78%]  rounded-r-xl overflow-auto">

        <ng-container *ngIf="!isReportGenerated" class="">
            <div class="w-full h-full grid justify-center align-middle items-center">
                <app-empty-report></app-empty-report>
            </div>
        </ng-container>
        <ng-container *ngIf="isReportGenerated">
            <app-report-template id="stockTemp" [inputData]="dataToSet"></app-report-template>
        </ng-container>
    </div>
</div>